<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clean The Net | واجهة القيادة</title>

    <script async src="https://www.googletagmanager.com/gtag/js?id=YOUR_GA_ID"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'YOUR_GA_ID');
    </script>

    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
    <script>
      window.OneSignal = window.OneSignal || [];
      OneSignal.push(function() {
        OneSignal.init({
          appId: "YOUR_ONESIGNAL_APP_ID",
        });
      });
    </script>

    <style>
        body { font-family: sans-serif; transition: background 0.5s; text-align: center; padding: 50px; }
        .zero-hour { background-color: #ff4d4d !important; color: white; animation: pulse 1s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.8; } 100% { opacity: 1; } }
        #counter { font-size: 3rem; font-weight: bold; color: #2ecc71; }
    </style>
</head>
<body>

    <h1>غرفة عمليات Clean The Net</h1>
    <p>عدد الأبطال المتصلين الآن:</p>
    <div id="counter">0</div>

    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script>
        const socket = io('https://your-app-on-render.com');

        // تحديث عداد المتواجدين
        socket.on('updateCounter', (count) => {
            document.getElementById('counter').innerText = count;
        });

        // استقبال نداء ساعة الصفر
        socket.on('zeroHour', (data) => {
            // 1. تغيير المظهر
            document.body.classList.add('zero-hour');
            
            // 2. تفعيل الاهتزاز (Vibration API)
            if (navigator.vibrate) {
                navigator.vibrate([200, 100, 200, 100, 500]);
            }

            // 3. تنبيه صوتي بسيط (اختياري)
            console.log("استنفار: " + data.url);
            alert("ساعة الصفر! الرابط المستهدف: " + data.url);
        });
    </script>
</body>
</html>
